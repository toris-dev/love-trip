# 📋 아키텍처 결정 기록 (ADR)

이 디렉토리는 프로젝트의 중요한 아키텍처 결정 사항을 기록합니다.

## ADR이란?

**Architecture Decision Records (ADR)**는 중요한 기술적 결정을 문서화하는 방법입니다.

각 ADR은 다음을 포함합니다:

- 결정 사항
- 맥락 (Context)
- 결정 이유
- 결과 (Consequences)

## 📝 ADR 목록

### ADR-001: 모노레포 구조 채택

**상태**: ✅ 채택됨

**날짜**: 2024-01-01

**결정**: pnpm workspace를 사용한 모노레포 구조 채택

**맥락**:

- 여러 도메인(여행 계획, 경비, 추천 등)을 분리하여 관리 필요
- 공통 컴포넌트와 유틸리티의 재사용성 확보
- 타입 안정성 향상

**결정 이유**:

- 도메인별 패키지 분리로 코드 구조 명확화
- 공통 코드의 중복 제거
- 타입 공유로 타입 안정성 향상

**결과**:

- ✅ 도메인별 명확한 책임 분리
- ✅ 코드 재사용성 향상
- ⚠️ 초기 설정 복잡도 증가
- ⚠️ 빌드 시간 증가 가능성

**관련 문서**: [아키텍처 문서](../architecture.md)

---

### ADR-002: Next.js App Router 사용

**상태**: ✅ 채택됨

**날짜**: 2024-01-01

**결정**: Next.js 15의 App Router 사용

**맥락**:

- Next.js 13+에서 App Router가 기본
- Server Components 지원
- 향상된 성능

**결정 이유**:

- React Server Components 활용
- 향상된 성능 (서버 사이드 렌더링)
- 파일 기반 라우팅의 간편함

**결과**:

- ✅ 서버 컴포넌트 활용 가능
- ✅ 성능 향상
- ⚠️ Pages Router와의 차이점 학습 필요

---

### ADR-003: Supabase BaaS 사용

**상태**: ✅ 채택됨

**날짜**: 2024-01-01

**결정**: Supabase를 백엔드로 사용

**맥락**:

- 빠른 개발 속도 필요
- 인증, 데이터베이스, 스토리지 통합 솔루션 필요
- PostgreSQL 기반 필요

**결정 이유**:

- 인증 시스템 내장
- Row Level Security (RLS) 지원
- 실시간 구독 기능
- 오픈소스 및 자체 호스팅 가능

**결과**:

- ✅ 빠른 개발 속도
- ✅ 보안 정책 (RLS) 적용 용이
- ⚠️ 벤더 종속성
- ⚠️ 기능 제한 가능성

---

### ADR-004: TypeScript 엔드투엔드 타입 안정성

**상태**: ✅ 채택됨

**날짜**: 2024-01-01

**결정**: 데이터베이스 스키마에서 클라이언트까지 타입 공유

**맥락**:

- 타입 안정성 확보 필요
- 런타임 에러 방지
- 개발자 경험 향상

**결정 이유**:

- Supabase 타입 생성 활용
- `packages/shared/types`로 타입 공유
- 컴파일 타임 타입 체크

**결과**:

- ✅ 타입 안정성 향상
- ✅ 자동완성 지원
- ⚠️ 타입 생성 스크립트 유지 필요

---

## 📝 ADR 작성 가이드

새로운 ADR을 작성할 때는 다음 템플릿을 사용하세요:

```markdown
# ADR-XXX: [제목]

**상태**: [제안됨 | 채택됨 | 거부됨 | 대체됨]

**날짜**: YYYY-MM-DD

**결정**: [간단한 결정 사항 요약]

**맥락**:
[결정이 필요한 상황과 배경]

**결정 이유**:
[이 결정을 내린 이유들]

**대안**:
[고려했던 다른 옵션들]

**결과**:
[이 결정의 긍정적/부정적 결과]

**관련 문서**: [관련 문서 링크]
```

## 🔗 관련 문서

- [아키텍처 문서](../architecture.md)
- [프로젝트 기획서](../project-plan.md)
