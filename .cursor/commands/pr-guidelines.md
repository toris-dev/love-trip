# GitHub Pull Request 규칙

## 📋 PR 작성 가이드라인

### 1. PR 제목 규칙

PR 제목은 다음 형식을 따릅니다:

```
[타입] 간단한 설명 (#이슈번호)
```

**타입 종류:**

- `feat`: 새로운 기능 추가
- `fix`: 버그 수정
- `refactor`: 코드 리팩토링
- `style`: 코드 포맷팅, 세미콜론 누락 등 (기능 변경 없음)
- `docs`: 문서 수정
- `test`: 테스트 코드 추가 또는 수정
- `chore`: 빌드 업무 수정, 패키지 매니저 설정 등
- `perf`: 성능 개선
- `ci`: CI/CD 설정 변경

**예시:**

```
[feat] 코스 공개 기능 추가 (#12)
[fix] 모바일 모달 UI 깨짐 현상 수정 (#25)
[refactor] 여행 서비스 로직 리팩토링 (#30)
```

### 2. PR 설명 템플릿

PR 설명은 다음 구조를 따릅니다:

```markdown
## 📌 변경 사항

- 변경 내용 1
- 변경 내용 2

## 🔗 관련 이슈

- Closes #이슈번호
- Related to #이슈번호

## 🧪 테스트

- [ ] 단위 테스트 통과
- [ ] 통합 테스트 통과
- [ ] 수동 테스트 완료
- [ ] 모바일 환경 테스트 완료

## 📸 스크린샷 (UI 변경 시)

<!-- 스크린샷 첨부 -->

## ✅ 체크리스트

- [ ] 코드 리뷰 요청 전 자체 검토 완료
- [ ] 린트 오류 없음 (`pnpm lint`)
- [ ] 타입 오류 없음 (`pnpm type-check`)
- [ ] 테스트 통과 (`pnpm test`)
- [ ] 문서 업데이트 (필요 시)
- [ ] 브레이킹 체인지 문서화 (필요 시)
```

### 3. PR 작성 시 주의사항

#### 3.1 변경 범위

- **하나의 PR은 하나의 기능/버그 수정에 집중**
- 너무 많은 변경사항이 포함된 경우 여러 PR로 분리
- 관련 없는 변경사항은 별도 PR로 분리

#### 3.2 커밋 메시지

- PR 내 커밋 메시지는 [커밋 컨벤션](./commit-convention.md)을 따름
- 의미 있는 커밋 단위로 분리
- `WIP`, `fix typo` 같은 불명확한 메시지 지양

#### 3.3 코드 품질

- **린트 오류 없음**: `pnpm lint` 실행 후 모든 오류 해결
- **타입 안정성**: TypeScript 타입 오류 없음
- **테스트 커버리지**: 새로운 기능은 테스트 코드 포함
- **성능 고려**: 불필요한 리렌더링, 메모리 누수 등 확인

#### 3.4 리뷰 준비

- **자체 검토 완료**: PR 생성 전 스스로 코드 리뷰
- **설명 명확성**: 복잡한 로직은 주석 또는 PR 설명에 상세히 기술
- **스크린샷 첨부**: UI 변경 시 Before/After 스크린샷 제공

### 4. PR 리뷰 프로세스

#### 4.1 리뷰어 지정

- 최소 1명 이상의 리뷰 승인 필요
- 프론트엔드 변경: 프론트엔드 담당자 리뷰
- 백엔드 변경: 백엔드 담당자 리뷰
- 풀스택 변경: 양쪽 모두 리뷰 권장

#### 4.2 리뷰 응답

- 리뷰 코멘트는 24시간 내 응답
- 변경 요청 사항은 논의 후 수정 또는 반박
- 모든 리뷰 코멘트 해결 후 재리뷰 요청

#### 4.3 머지 조건

- ✅ 최소 1명 이상의 승인
- ✅ 모든 리뷰 코멘트 해결
- ✅ CI/CD 파이프라인 통과
- ✅ 충돌 해결 완료

### 5. 브랜치 전략

#### 5.1 브랜치 명명 규칙

```
{타입}/{이슈번호}-{간단한-설명}
```

**예시:**

```
feat/12-add-course-publish
fix/25-mobile-modal-ui
refactor/30-travel-service
```

#### 5.2 브랜치 생성 규칙

- `main`: 프로덕션 브랜치 (보호됨)
- `develop`: 개발 통합 브랜치
- `feature/*`: 기능 개발 브랜치
- `fix/*`: 버그 수정 브랜치
- `hotfix/*`: 긴급 수정 브랜치

#### 5.3 머지 전략

- **Feature 브랜치**: `develop` 브랜치로 머지
- **Hotfix 브랜치**: `main`과 `develop` 모두에 머지
- **Squash and Merge** 또는 **Rebase and Merge** 사용 권장

### 6. 특수 상황 처리

#### 6.1 긴급 수정 (Hotfix)

- 프로덕션 버그 수정 시 `hotfix/*` 브랜치 사용
- `main` 브랜치에서 직접 분기
- 수정 후 `main`과 `develop` 모두에 머지

#### 6.2 대규모 리팩토링

- 단계별로 작은 PR로 분리
- 각 단계마다 테스트 및 검증
- 마이그레이션 가이드 문서화

#### 6.3 실험적 기능

- `experiment/*` 브랜치 사용
- PR 제목에 `[EXPERIMENTAL]` 태그 추가
- 프로덕션 배포 전 충분한 테스트

### 7. PR 닫기 규칙

다음 경우 PR을 닫을 수 있습니다:

- 더 이상 필요하지 않은 변경사항
- 다른 PR로 대체되는 경우
- 구현 방향이 완전히 변경된 경우

**닫기 전 확인사항:**

- 관련 이슈 업데이트
- 팀원과 논의 완료
- 대체 방안 명시

### 8. 참고 자료

- [커밋 컨벤션](./commit-convention.md)
- [코드 리뷰 가이드](./review-code.md)
- [테스트 작성 가이드](./write-tests.md)

---

**마지막 업데이트**: 2025년
